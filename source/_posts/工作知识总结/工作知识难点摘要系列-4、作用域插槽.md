---
title: 四、作用域插槽
tags: 工作知识总结
categories: 热爱我的工作
comments: true
---

# 四、工作知识难点摘要之作用域插槽
## 1、认识插槽
### 1.1、简单介绍
<p>&emsp;&emsp;插槽就是子组件中的提供给父组件使用的一个占位符，用\<slot>\</slot> 表示，父组件可以在这个占位符中填充任何模板代码，如 HTML、组件等，填充的内容会替换子组件的\<slot>\</slot>标签。简单理解就是子组件中留下个“坑”，父组件可以使用指定内容来补“坑”。插槽主要分为：匿名插槽、具名插槽、作用域插槽，实际情况中具名插槽会和作用域插槽结合使用。</p>

### 1.2、匿名插槽
<p>&emsp;&emsp;默认的插槽形式，很简单，看如下例子。子组件Son.vue中有一个插槽slot标签，这是有个父组件Father.vue引入子组件并使用，使用的时候可以在子组件标签内加新的HTML标签或者其他组件，而此时，加的内容就会替代掉子组件中的slot所占的位置。</p>

```javascript
//子组件Son.vue
<template>
  <div>
    <div>我是子组件，在我下面是我携带的插槽,当别人调用我的时候，可以按照需求往里面填东西哦。。</div>
    <slot></slot>
  </div>
</template>
<script lang="ts">
import { Vue, Component } from 'vue-property-decorator';
@Component({
  components: {

  }
})
export default class TestCase extends Vue {
  mounted () {

  }
}
<script>

//父组件Father.vue
<template>
  <div>
    <div>我是父组件，我在下方调用了子组件哦。。</div>
    <Son>
      <span style="color:red">我在子组件内部放了一个span标签，这个标签会置换slot标签哦。。</span>
    </Son>
  </div>
</template>
<script lang="ts">
import { Vue, Component } from 'vue-property-decorator';
@Component({
  components: {
    Son: () => import('@/pages/son.vue')
  }
})
export default class TestCase extends Vue {
  mounted () {

  }
}
<script>
```

### 1.2、具名插槽
<p>&emsp;&emsp;正常人都能看出来，匿名插槽缺点很明显，当子组件有很多插槽时，父组件在调用子组件时，往子组件中加了很多内容，那么这些内容和插槽们如何一一对应呢。。所以就得有具名插槽出现，给个名字，然后按照名字一个萝卜一个坑喽。如下的例子，子组件Son.vue中有多个插槽，并且每一个插槽都给了对应的名字，父组件Father.vue在调用子组件的时候，插入的内容都会携带一个名字对应入坑的。</p>

```javascript
//子组件Son.vue
<template>
  <div>
    <div>我是子组件，我带了好多有名字的插槽哦。。</div>
    <slot name="contentOne"></slot>
    <slot name="contentTwo"></slot>
    <slot name="contentThree"></slot>
  </div>
</template>
<script lang="ts">
import { Vue, Component } from 'vue-property-decorator';
@Component({
  components: {

  }
})
export default class TestCase extends Vue {
  mounted () {

  }
}
<script>

//父组件Father.vue
//注意这里插槽也可以不用template模板包裹，但是模板包裹兼容性更好
<template>
  <div>
    <div>我是父组件，我在下方调用了子组件哦。。</div>
    <Son>
      <template slot="contentOne">
        <span>我会置换掉子组件的one插槽哦。。</span>
      </template>
      <template slot="contentTwo">
        <span>我会置换掉子组件的Two插槽哦。。</span>
      </template>
      <template slot="contentThree">
        <span>我会置换掉子组件的Three插槽哦。。</span>
      </template>
    </Son>
  </div>
</template>
<script lang="ts">
import { Vue, Component } from 'vue-property-decorator';
@Component({
  components: {
    Son: () => import('@/pages/son.vue')
  }
})
export default class TestCase extends Vue {
  mounted () {

  }
}
<script>
```

### 1.3、作用域插槽
<p>&emsp;&emsp;为什么要有作用域插槽呢？是这么个情况，在实际开发过程中啊，我们在父组件里调用子组件的时候，往子组件的插槽放置内容时，是无法访问子组件的数据的，很多时候让插槽内容能够访问子组件中独有的数据是很有用的。如下例子，子组件中有独有的数据，奥特曼数组和怪兽数组，我在子组件里写插槽时把数据带上，这里把具名插槽和作用域插槽结合用，因为实际工作中都是一起使用的。子组件如下：</p>

```javascript
//子组件Son.vue
<template>
  <div>
    <div>我是子组件，我带了有名字的插槽，并且这个插槽带着我独有的数据哦。。</div>
    <slot :name="contentOne" :tempArr1="tempArr1" :tempArr2="tempArr2"></slot>
  </div>
</template>
<script lang="ts">
import { Vue, Component } from 'vue-property-decorator';
@Component({
  components: {

  }
})
export default class TestCase extends Vue {
  tempArr1:Array<string> = ['捷德', '迪迦', '赛罗', '贝利亚']
  tempArr2:Array<string> = ['哥尔赞', '梅尔巴', '基利埃洛的人', '加坦劫恶']
  mounted () {

  }
}
<script>
```
<p>&emsp;&emsp;父组件的写法很重要，写法如下 ( v-slot: 插槽名称 = "一个字段" )，注意这里的字段官方一般用slotProps,它是一个对象，对象里装了插槽携带的所有的属性，包括tempArr1和tempArr2。</p>

```javascript
//父组件Father.vue
<template>
  <div>
    <div>我是父组件，我在下方调用了子组件哦。。</div>
    <Son>
      <template v-slot:contentOne="slotProps">
        <div>{{slotProps.tempArr1.jion(',')}}</div>
        <div>{{slotProps.tempArr2.jion(',')}}</div>
      </template>
    </Son>
  </div>
</template>
<script lang="ts">
import { Vue, Component } from 'vue-property-decorator';
@Component({
  components: {
    Son: () => import('@/pages/son.vue')
  }
})
export default class TestCase extends Vue {
  mounted () {

  }
}
<script>
```































